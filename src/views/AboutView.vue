<template>
  <div class="about">
    <header>
      <h1>
        <a href="">
          <img src="@/assets/images/logotext.png" alt="í—¤ë”ë¡œê³ " />
        </a>
      </h1>

      <nav>
        <!-- ğŸ‘‡ navë°” ë¦¬ìŠ¤íŠ¸ / í•´ë‹¹ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ë¶€ë“œëŸ½ê²Œ ì´ë™-->
        <ul class="gnbLog fs_9">
          <li @click="scrollToSection('section2')">ìº˜ë¦°ë”/To-do</li>
          <li @click="scrollToSection('section3')">AutoSchedule</li>
          <li @click="scrollToSection('section4')">ê¸°ë¡/ë‹¤ì´ì–´ë¦¬</li>
          <li @click="scrollToSection('section1')">ì„¤ì¹˜</li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="sectionAbout">
        <div class="sectionBgColor">
          <div class="mainText">
            <p class="fs_21">ìˆœê°„ìˆœê°„ì´ ì†Œì¤‘í•œ ë‹¹ì‹ ì„ ìœ„í•´,</p>
            <p class="fs_15">ì‹œê°„ê´€ë¦¬ì˜ ê¸¸ì¡ì´</p>
          </div>
          <img class="mainLogo" src="@/assets/images/logotext.png" alt="ë©”ì¸ë¡œê³ " />
          <img class="mainImg" src="@/assets/images/aboutMainImg.png" alt="ì†Œê°œí˜ì´ì§€ ë©”ì¸ì´ë¯¸ì§€" />
        </div>
      </section>

      <section ref="section1" id="section1">
        <div class="TextWrap reveal" ref="reveal">
          <p class="fs_21">ì„¤ì¹˜</p>
          <p class="fs_12">ëª¨ë°”ì¼ì—ì„œë„ í”Œëœì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</p>
          <p class="fs_12">
            ëª¨ë°”ì¼ë¡œ Plancation ì›¹í˜ì´ì§€ì— ì ‘ì†í•´ ë‹¤ìš´ë¡œë“œë¥¼ ëˆŒëŸ¬ ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”.
          </p>

          <div class="ImgWrap">
            <img src="@/assets/images/pwa.png" alt="pwaë‹¤ìš´ë¡œë“œ" />
            <img src="@/assets/images/appStore.png" alt="appStoreë‹¤ìš´ë¡œë“œ" />
            <img src="@/assets/images/googlePlay.png" alt="googlePlayë‹¤ìš´ë¡œë“œ" />
          </div>

          <img class="MockupsImg" src="@/assets/images/aboutDownloadImg.png" />
        </div>
      </section>

      <section ref="section2" id="section2">
        <div class="sectionWrap reveal" ref="reveal">
          <div class="aboutTextWrap">
            <h2 class="fs_19">ìº˜ë¦°ë”/ to-do list</h2>
            <p class="fs_13">ì¼ì •ê´€ë¦¬ì˜ ê¸°ë³¸ì´ ë˜ëŠ”</p>
            <p class="fs_13">ìº˜ë¦°ë”ì™€ í•´ì•¼ í•  ì¼ ê´€ë¦¬</p>
          </div>

          <div class="aboutImgwrap">
            <img :src="images1[imageIndex]" alt="ìº˜ë¦°ë” ì´ë¯¸ì§€1" />
            <img :src="images2[imageIndex]" alt="ìº˜ë¦°ë” ì´ë¯¸ì§€2" />
          </div>

          <div class="slideDataWrap">
            <p class="fs_11">{{ text1[textIndex] }}</p>
            <p class="fs_11">{{ text2[textIndex] }}</p>

            <div class="slideBtn">
              <button @click="changeItem1" class="fs_8">1</button>
              <button @click="changeItem2" class="fs_8">2</button>
            </div>
          </div>
        </div>
      </section>

      <section ref="section3" id="section3">
        <div class="sectionWrap reveal" ref="reveal">
          <div class="aboutTextWrap">
            <h2 class="fs_19">Auto schedule</h2>
            <p class="fs_13">ì§œê¸° ì–´ë ¤ìš´ ê³„íšì„ ëŒ€ì‹  í•´ê²°í•´ì£¼ëŠ”</p>
            <p class="fs_13">ì˜¤í† ìŠ¤ì¼€ì¤„ë§ ì„œë¹„ìŠ¤</p>
          </div>

          <div class="aboutImgwrap">
            <img src="@/assets/images/aboutAI1.png" alt="todo ì´ë¯¸ì§€1" />
            <img src="@/assets/images/aboutAI2.png" alt="todo ì´ë¯¸ì§€2" />
          </div>

          <div class="slideDataWrap">
            <p class="fs_11">ê³„íší•˜ëŠ” ë‚ ì§œì™€ ì •ë³´ë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            <p class="fs_11">AIë¥¼ ì´ìš©í•´ ëŒ€ì‹  ê³„íšì„ ì§œì£¼ê³  í•  ì¼ì— ë“±ë¡ë„ ê°€ëŠ¥í•´ìš”.</p>
          </div>
        </div>
      </section>

      <section ref="section4" id="section4">
        <div class="sectionWrap reveal" ref="reveal">
          <div class="aboutTextWrap">
            <h2 class="fs_19">ë‹¤ì´ì–´ë¦¬/ê¸°ë¡</h2>
            <p class="fs_13">ì˜¤ëŠ˜ í•˜ë£¨ ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆë‚˜ìš”?</p>
          </div>

          <div class="aboutImgwrap">
            <img src="@/assets/images/aboutDiary1.png" alt="todo ì´ë¯¸ì§€1" />
            <img src="@/assets/images/aboutDiary2.png" alt="todo ì´ë¯¸ì§€2" />
          </div>

          <div class="slideDataWrap">
            <p class="fs_11">í•˜ë£¨ì— ëŒ€í•œ ê¸°ë¡ë„ ë‚¨ê¸¸ ìˆ˜ ìˆì–´ìš”.</p>
            <p class="fs_11">í•˜ë£¨ë¥¼ ë§ˆì¹˜ë©° ì‚¬ì§„ê³¼ í•¨ê»˜ ê°„ë‹¨í•œ ê¸°ë¡ì„ ë‚¨ê²¨ë³´ì„¸ìš”.</p>
          </div>
        </div>
      </section>
    </main>
    <button class="fs_10">ì´ìš©í•˜ëŸ¬ ê°€ê¸°</button>
  </div>
</template>

<style lang="scss">
@import '../assets/scss/pages/about.scss';
@import '../assets/scss/abstracts/Fontmodule.css';
</style>

<script lang="ts">
import { defineComponent } from 'vue'

window.addEventListener('scroll', reveal)

function reveal() {
  var reveals = document.querySelectorAll('.reveal')

  for (var i = 0; i < reveals.length; i++) {
    var windowheight = window.innerHeight
    var revealtop = reveals[i].getBoundingClientRect().top
    var revealpoint = 150

    console.log(revealtop)

    if (revealtop < windowheight - revealpoint) {
      reveals[i].classList.add('active')
    } else {
      reveals[i].classList.remove('active')
    }
  }
}

export default defineComponent({
  components: {},
  data() {
    return {
      // ì´ë¯¸ì§€ ë³€ê²½
      images1: ['src/assets/images/aboutCalenderImg1.png', 'src/assets/images/aboutTodoImg1.png'],
      images2: ['src/assets/images/aboutCalenderImg2.png', 'src/assets/images/aboutTodoImg2.png'],

      imageIndex: 0,

      // í…ìŠ¤íŠ¸ ë³€ê²½
      text1: [
        'ì›í•˜ëŠ” ìƒ‰ì˜ ë§ˆí¬ì—…, ì´ëª¨ì§€ë¡œ í•œëˆˆì— í™•ì¸ í•  ìˆ˜ ìˆì–´ìš”.',
        'ì‹œê°„ê³¼ ì•Œë¦¼, ì¥ì†Œ, ì°¸ì—¬ìì— ëŒ€í•œ ê´€ë¦¬ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.'
      ],
      text2: ['ì¤‘ìš”í•œ ì¼ì •ì„ ê°•ì¡°í•˜ì„¸ìš”.', 'í•´ì•¼ í•  ì¼ë“¤ì— ëŒ€í•´ ê°„ê²°í•˜ê²Œ ê´€ë¦¬í•˜ì„¸ìš”.'],

      textIndex: 0,

      // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ í˜ì´ë“œì¸ & í˜ì´ë“œì•„ì›ƒ
      showNavbar: true,
      lastScrollPosition: 0
    }
  },

  methods: {
    // 1ë²ˆ ë²„íŠ¼: Calendarì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸
    changeItem1() {
      this.imageIndex = 0
      this.textIndex = 0
    },

    // 2ë²ˆ ë²„íŠ¼: Todoì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸
    changeItem2() {
      this.imageIndex = 1
      this.textIndex = 1
    }

    // ğŸ‘‡ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ í˜ì´ë“œì¸ & í˜ì´ë“œì•„ì›ƒ
    // setReveal() {
    //   var reveals = document.querySelectorAll('.reveal')

    //   for (var i = 0; i < reveals.length; i++) {
    //     var windowheight = window.innerHeight
    //     var revealtop = reveals[i].getBoundingClientRect().top
    //     var revealpoint = 150

    //     console.log(revealtop)

    //     if (revealtop < windowheight - revealpoint) {
    //       reveals[i].classList.add('active')
    //     } else {
    //       reveals[i].classList.remove('active')
    //     }
    //   }
    // }
  },

  setup() {
    // const revealRefs = ref<(HTMLElement | null)[]>([])

    // const addRevealRef = (el: HTMLElement | null) => {
    //   if (el && !revealRefs.value.includes(el)) {
    //     revealRefs.value.push(el)
    //   }
    // }

    // const setReveal = () => {
    //   const windowHeight = window.innerHeight
    //   const revealPoint = 150

    //   if (reveal) {
    //     const revealTop = revealEl.getBoundingClientRect().top

    //     if (revealTop < windowHeight - revealPoint) {
    //       revealEl.classList.add('active')
    //     } else {
    //       revealEl.classList.remove('active')
    //     }
    //   }
    // }

    // const onScroll = () => {
    //   setReveal()
    // }

    // onMounted(() => {
    //   window.addEventListener('scroll', onScroll)
    // })

    // onUnmounted(() => {
    //   window.removeEventListener('scroll', onScroll)
    // })

    const scrollToSection = (refName: string) => {
      const sectionElement = document.getElementById(refName)

      if (sectionElement) {
        sectionElement.scrollIntoView({
          behavior: 'smooth'
        })
      }
    }

    return { scrollToSection }
  }
})
</script>
