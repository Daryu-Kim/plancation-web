<template>
  <div class="diaryList" v-for:="item in  allDiary " :key="item.id">
    <!-- $emitìœ¼ë¡œ ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ì—ê²Œ í´ë¦­ì´ë²¤íŠ¸ì „ë‹¬ :ğŸ‘‡ì „ë‹¬ì¸ìë¡œ item(í´ë¦­í•œ ê·¸ ë¬¸ì„œë°ì´í„°)ë„ ê°™ì´ ì˜¬ë¦¬ê¸°-->
    <div class="diaryContent" @click="$emit('diaryClick', item)">
      <div class="imageWrap">
        <!-- ğŸ‘‡ê²Œì‹œë¬¼ì— ì‚¬ì§„ì´ ì—†ê³  ê¸€ë§Œ ìˆë‹¤ë©´ ? -->
        <div v-if="item.postImage === ''" class="nullPath">
          <p>{{ item.postContent }}</p>
        </div>
        <!-- ê·¸ ì™¸ ì‚¬ì§„ì´ ìˆì„ ë•Œì— ?-->
        <div v-else :style="{ 'background-image': `url(${item.postImage})` }" class="diaryImageBox">
        </div>
      </div>

      <div class="userInfo">
        <!-- <p class="fs_9">{{ item.postAuthorID }}</p> -->
        <p class="fs_9">ìœ ì €ë‹‰ë„¤ì„</p>
        <div class="userImage" :style="{ 'background-image': `url(${item.postImage})` }">
        </div>
      </div>

      <!-- ë¦¬ìŠ¤íŠ¸ì— ë³´ì¼ ì œëª©ê³¼ íƒ€ì„ìŠ¤íƒ¬í”„(ì‘ì„±ë‚ ì§œ) -->
      <div class="diaryText">
        <p class="diaryTitle fs_9">{{ item.postTitle }}</p>
        <p class="fs_9">{{ item.postTime.seconds }}</p>
      </div>
    </div>
  </div>
</template>
<script lang="ts">
// import { getFirestore, collection, deleteDoc, doc, } from "firebase/firestore";
// @click="$emit('diaryClick', item)"

export default {
  props: {
    //í˜„ì¬ ìº˜ë¦°ë”ì˜ Posts ë¬¸ì„œ ì „ë¶€ë¥¼ propsë°›ì•„ì˜¨ ê²ƒ
    allDiary: Object,
  },
  created() {
    console.log(this.allDiary);
  },
  data() {
    return {
      userNickname: '',

    };
  },
  emits: ['diaryClick'],
  methods: {
    //ë‹¤ì´ì–´ë¦¬ ê¸€ì“´ì´ì™€ ì¼ì¹˜í•˜ëŠ” ìœ ì €ì°¾ì•„ ê°€ì ¸ì˜¤ê¸°
    // async findUser(user) {
    //   try {
    //     const db = getFirestore();
    //     await getDoc(collection(db, `Users/${user}`))
    //       .then((doc: DocumentSnapshot) => {
    //         const userName = doc.data().userName;
    //         console.log(doc.data().userName);
    //         return this.userNickname = userName;
    //       })
    //       .catch((_) => {

    //       });

    //   } catch (err) { console.log(err) }
    // },

    // //ìº˜ë¦°ë” ëª©ë¡ì—ì„œ ì„ íƒí•˜ë©´ í•´ë‹¹ ìº˜ë¦°ë”ë¡œ í˜ì´ì§€ ë„˜ì–´ê°€ê¸°
    // goToCalendar(calendarID: string) {
    //   this.$router.push(`/calendar/${calendarID}`)
    // },
  }
}
</script>
<style lang="scss">
@import '../assets/scss/abstracts/Fontmodule.css';
@import '../assets/scss/components/DiaryList.css';
</style>